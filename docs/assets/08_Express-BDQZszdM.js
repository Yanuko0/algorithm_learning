import{j as s}from"./index-fpDyO5uJ.js";import{n as l}from"./node_img-6ZY88qdo.js";/* empty css                           */import{I as e}from"./index-BZs-nvGp.js";const a=()=>s.jsxs("div",{className:"full_page",children:[s.jsx("div",{className:"title",children:"Express學習"}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"學習目標"}),s.jsx("p",{children:s.jsxs("ul",{children:[s.jsx("li",{children:"能夠使用express.static()快速托管靜態資源"}),s.jsx("li",{children:"能夠使用express路由精簡項目結構"}),s.jsx("li",{children:"能夠使用常見的express 中間件"}),s.jsx("li",{children:"能夠使用express 創建API接口"}),s.jsx("li",{children:"能夠在express中啟用cors跨域資源共享"})]})})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"初識Express"}),s.jsx("p",{children:"官方給出的概念:Express 是基於Node.js平台, 快速、開放、極簡的Web 開發框架"}),s.jsx("p",{children:"通俗的理解: Express的作用和Node.js內置的http模塊類似, 是專門用來創建Web服務器的。"}),s.jsx("p",{children:"本質上就是npm上的第三方包,提供了快速創建Web服務器的便捷方法。"}),s.jsx("ul",{children:s.jsx("li",{children:s.jsx("a",{href:"https://www.expressjs.com.cn/",children:"Express"})})})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"進一步理解Express"}),s.jsxs("p",{children:["思考: 不使用Express能否創建Web服務器?",s.jsx("ul",{children:s.jsx("li",{children:"答案:能,使用Node.js提供的原生http模塊即可。"})}),s.jsx("br",{}),"思考: 既然有了http模塊,為什麼還有用Express?",s.jsx("ul",{children:s.jsx("li",{children:"答案: http內置模塊用起來很複雜, 開發效率低; Express是基於內置的http 模塊進一步封裝出來的, 能夠極大的提高開發效率。"})}),s.jsx("br",{}),"思考:http內置模塊與Express是什麼關係?",s.jsx("ul",{children:s.jsx("li",{children:"答案:類似於瀏覽器中Web API和JQuery的關係。後者是基於前者進一步封裝出來的。"})})]})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"Express能做什麼"}),s.jsxs("p",{children:["對於前端程序員來說,最常見的兩種服務器,分別是:",s.jsxs("ul",{children:[s.jsx("li",{children:"Web網站服務器: 專門對外提供Web網頁資源的服務器。"}),s.jsx("li",{children:"API接口服務器: 專門對外提供API接口的服務器。"})]}),"使用Express, 我們可以方便、快速的創建Web網站的服務器或API接口的服務器。"]})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"安裝並創建服務器"}),s.jsx("p",{children:"在項目所處的目錄中, 運行如下終端命令, 即可將express安裝到項目中使用:"}),s.jsx("p",{children:s.jsx("ul",{children:s.jsx("li",{children:"npm i express @4.17.1"})})}),s.jsx("p",{className:"diagram",children:s.jsx("div",{className:"commentaryBox",children:s.jsx(e.PreviewGroup,{preview:{onChange:(r,i)=>console.log(`current index: ${r}, prev index: ${i}`)},children:s.jsx(e,{src:l.express_01,alt:"express_01"})})})})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"監聽GET請求"}),s.jsx("p",{children:"通過app.get()方法,可以監聽客戶端的Get請求,具體的語法格式如下:"}),s.jsx("p",{className:"diagram",children:s.jsx("div",{className:"commentaryBox",children:s.jsx(e.PreviewGroup,{preview:{onChange:(r,i)=>console.log(`current index: ${r}, prev index: ${i}`)},children:s.jsx(e,{src:l.express_02,alt:"express_02"})})})})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"監聽POST請求"}),s.jsx("p",{children:"通過app.post()方法,可以監聽客戶端的POST請求,具體的語法格式如下:"}),s.jsx("p",{className:"diagram",children:s.jsx("div",{className:"commentaryBox",children:s.jsx(e.PreviewGroup,{preview:{onChange:(r,i)=>console.log(`current index: ${r}, prev index: ${i}`)},children:s.jsx(e,{src:l.express_03,alt:"express_03"})})})})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"把內容響應給客戶端"}),s.jsx("p",{children:"通過res.send()方法, 可以把處理好的內容, 發送給客戶端:"}),s.jsx("p",{className:"diagram",children:s.jsx("div",{className:"commentaryBox",children:s.jsx(e.PreviewGroup,{preview:{onChange:(r,i)=>console.log(`current index: ${r}, prev index: ${i}`)},children:s.jsx(e,{src:l.express_04,alt:"express_04"})})})})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"獲取URL中攜帶的查詢參數"}),s.jsx("p",{children:"通過req.query對象, 可以訪問到客戶端通過查詢字符串的形式, 發送到服務器的參數:"}),s.jsx("p",{className:"diagram",children:s.jsx("div",{className:"commentaryBox",children:s.jsx(e.PreviewGroup,{preview:{onChange:(r,i)=>console.log(`current index: ${r}, prev index: ${i}`)},children:s.jsx(e,{src:l.express_05,alt:"express_05"})})})})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"獲取URL中的動態參數"}),s.jsx("p",{children:"通過req.query對象, 可以訪問到URL中, 通過: 匹配到的動態參數:"}),s.jsx("p",{className:"diagram",children:s.jsx("div",{className:"commentaryBox",children:s.jsx(e.PreviewGroup,{preview:{onChange:(r,i)=>console.log(`current index: ${r}, prev index: ${i}`)},children:s.jsx(e,{src:l.express_06,alt:"express_06"})})})})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"託管靜態資源"}),s.jsx("p",{children:"1.express.static"}),s.jsx("p",{children:"express 提供了一個非常好用的函數, 叫做 express.static(), 通過它, 我們可以非常方便地創建一個靜態資源服務器, 例如, 通過如下代碼就可以將public目錄下的圖片、CSS文件、JavaScript文件 對外開放訪問了:"}),s.jsx("p",{children:"app.use(express.static('public'))"}),s.jsxs("p",{children:["現在就可以訪問public目錄中的所有文件了:",s.jsxs("ul",{children:[s.jsx("li",{children:"http://localhost:3000/images/bg.jpg"}),s.jsx("li",{children:"http://localhost:3000/css/style.css"}),s.jsx("li",{children:"http://localhost:3000/js/login.js"})]})]}),s.jsx("p",{children:"注意: Express 在指定的靜態目錄中查找文件, 並對外提供資源的訪問路淨。因此, 存放靜態文件的目錄名不會出現在URL中。"})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"託管多個靜態資源目錄"}),s.jsx("p",{children:"如果要託管多個靜態資源目錄, 請多次調用express.static()函數:"}),s.jsxs("p",{children:["app.use(express.static('public'))",s.jsx("br",{}),"app.use(express.static('files'))"]}),s.jsx("p",{children:"訪問靜態資源文件時, express.static()函數會根據目路的添加順序查找所需的文件。"})]})}),s.jsx("div",{className:"introduce",children:s.jsxs("div",{className:"diagrambox",children:[s.jsx("p",{children:"掛載路徑前綴"}),s.jsx("p",{children:"如果希望在託管的靜態資源訪問路徑之前, 掛載路徑前綴, 則可以使用如下的方式:"}),s.jsx("p",{children:"app.use('/public', express.static('public'))"}),s.jsxs("p",{children:["現在妳寄可以通過帶有/public前綴地址來訪問public目錄中的文件了:",s.jsxs("ul",{children:[s.jsx("li",{children:"http://localhost:3000/public/images/kitten.jpg"}),s.jsx("li",{children:"http://localhost:3000/public/css/style.css"}),s.jsx("li",{children:"http://localhost:3000/public/js/app.js"})]})]})]})})]});export{a as default};
